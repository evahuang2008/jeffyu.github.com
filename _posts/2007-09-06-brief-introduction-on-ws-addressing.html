--- 
layout: post
title: Brief introduction on WS-Addressing
published: true
meta: 
  blogger_429d160645182d8e72b48e90f5e50eb3_permalink: "6884336401056800392"
  _searchme: "1"
  blogger_author: !binary |
    SmVmZiBZdSAgICjkvZnmmIwp

  blogger_blog: jeff.familyyu.net
tags: 
- SOA
type: post
status: publish
---
what is WS-Addressing? Before answer this question, lets see a soap message without WS-A.<br /><br />A SOAP 1.2 message, without WS-Addressing, sent over HTTP transport looks like:<br /><div style="background:gray;"><br />(001) POST /fabrikam/Purchasing HTTP 1.1/POST<br />(002) Host: example.com<br />(003) SOAPAction: http://example.com/fabrikam/SubmitPO<br />(004) <br />(005)  &lt;s:envelope s="http://www.w3.org/2003/05/soap-envelope" wombat="http://wombat.org/"&gt;<br />(006) &lt;s:header&gt;<br />(007) &lt;wombat:messageid&gt;<br />(008) uuid:e197db59-0982-4c9c-9702-4234d204f7f4<br />(009) &lt;/wombat:messageid&gt;<br />(010) &lt;s:header&gt;<br />(011) &lt;s:body&gt;<br />(012) ...<br />(013) &lt;/s:body&gt;<br />(014) &lt;/s:envelope&gt;<br /></div> <br />Line (001) - (003) shows the HTTP transport headers. Line (005) - (014) shows the SOAP message in HTTP body.<br /><br />Here we can see, we didn't put any transport information in the SOAP message without the WS-A.<br /><br />The Intent of WS-Addressing:<br /><br /><div style="color:blue;"><br />SOAP does not provide a standard way to specify where a message is going, how to return a response, or where to report an error. Those details have historically been left up to the transport layer. For example, when a standard SOAP request is sent over HTTP, the URI of the HTTP request serves as the message's destination.<br />Addressing at the transport level is sufficient for many existing services, but it has been a limiting factor in the development of others. WS-Addressing defines standard ways to route a message over multiple transports or direct a response to a third party.<br /></div><br /><br />Simply put, we want to put the transport information in the SOAP message Header Part. lets see below SOAP message with WS-Addressing feature.<br /><br />A SOAP 1.2 message, with WS-Addressing, sent over HTTP transport looks like:<br /><div style="background:gray;"><br />(001) POST /fabrikam/Purchasing HTTP 1.1/POST<br />(002) Host: example.com<br />(003) SOAPAction: http://example.com/fabrikam/SubmitPO<br />(004)<br />(005) &lt;s:envelope s="http://www.w3.org/2003/05/soap-envelope" wsa="http://www.w3.org/2005/08/addressing/"&gt;<br />(006) &lt;s:header&gt;<br />(007) &lt;wsa:messageid&gt;<br />(008) uuid:e197db59-0982-4c9c-9702-4234d204f7f4<br />(009) &lt;/wsa:messageid&gt;<br /><span style="color:red;"><br />(010) &lt;wsa:to&gt;<br />(011) http://example.com/fabrikam/Purchasing<br />(012) &lt;/wsa:to&gt;<br />(013) &lt;wsa:action&gt;<br />(014) http://example.com/fabrikam/SubmitPO<br />(015) &lt;/wsa:action&gt;</span><br />(016) &lt;s:header&gt;<br />(017) &lt;s:body&gt;<br />(018) ...<br />(019) &lt;/s:body&gt;<br />(020) &lt;/s:envelope&gt;<br /></div><br /><br />In the WS-Addressing specification, it has introduced two concepts:<br />1. Endpoint Reference (EPR)<br />2. Message Addressing Properties (MAPs)<br />Like an article[1] says: we can think the EPR as the concrete address. consider the MAPs as envelop layout, such as it has receiver etc. The benefits of the WS-Addressing is that we put the transport in the SOAP message, so we are able to deal with message across multiple transports. <br /><br />Reference:<br />[1] <a href="http://dev2dev.bea.com/pub/a/2005/01/ws_addressing_intro.html">http://dev2dev.bea.com/pub/a/2005/01/ws_addressing_intro.html</a><br />[2] <a href="http://www.javapassion.com/webservices/wsaddressing.pdf">http://www.javapassion.com/webservices/wsaddressing.pdf</a><br /><br />You can see the chinese version of this article <a href="http://jeffyuchang.spaces.live.com/blog/cns!4001C604AF3F011!480.entry">here</a>.
