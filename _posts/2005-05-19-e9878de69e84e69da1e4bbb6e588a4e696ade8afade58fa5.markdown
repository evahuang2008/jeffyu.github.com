---
date: '2005-05-19 05:20:48'
layout: post
slug: '%e9%87%8d%e6%9e%84%e6%9d%a1%e4%bb%b6%e5%88%a4%e6%96%ad%e8%af%ad%e5%8f%a5'
status: publish
title: 重构条件判断语句
wordpress_id: '138'
categories:
- Java
---

Martin fowler在《重构》书中提到到当你碰到一系列的条件判断语句或者switch语句的时候，你应该用多态来重构它，但是有些情况是不能这样解决的。比如看下面一段代码：  
  
String result = null ;  
if ( code == 1 )  
     result = "code1" ;  
else if (code ==  2 )  
     result = "code2" ;  
else if ....  
  
那么，当碰到这种情况的时候，（因为我个人对一系列的if ...else if .....else if ....或者swith语句可以说是非常的厌恶），我就先用一个Map来重构.  
  
static {  
   Map configMap = new HashMap() ;  
   configMap.put("1","code1");  
   configMap.put("2","code2");  
}

那么，如果要为了以后更好的扩展和不改动代码的话，就把这些值放入xml的配置文件中，类似下面:

<entry key="1" value="code1" />  
<entry key="2" value="code2" />  
........
